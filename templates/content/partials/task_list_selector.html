{% if tasks %}
    {% for task in tasks %}
        <tr class="hover:bg-muted/50 transition-colors cursor-pointer"
            @click="tasks.push({ title: '{{ task.title|escapejs }}', description: '{{ task.description|escapejs }}', readonly: true }); openTaskModal = false;">
            <td class="px-6 py-4">
                <div class="text-sm font-medium text-foreground">{{ task.title }}</div>
            </td>
            <td class="px-6 py-4">
                <div class="text-sm text-muted-foreground line-clamp-2">{{ task.description }}</div>
            </td>
            <td class="px-6 py-4 text-right">
                <button type="button" class="app-btn app-btn-outline text-primary app-btn-sm">
                    <i data-lucide="plus" class="w-4 h-4"></i>
                </button>
            </td>
        </tr>
    {% endfor %}
{% else %}
    <tr>
        <td colspan="3" class="px-6 py-12 text-center text-muted-foreground">
            <i data-lucide="search" class="mx-auto h-8 w-8 opacity-20 mb-2"></i>
            <p>No tasks found matching your search.</p>
        </td>
    </tr>
{% endif %}
<!-- Pagination Row -->
{% if tasks.has_other_pages %}
    <tr>
        <td colspan="3" class="px-6 py-4 border-t border-border">
            <div class="flex items-center justify-between">
                <div class="text-sm text-muted-foreground">Page {{ tasks.number }} of {{ tasks.paginator.num_pages }}</div>
                <div class="flex gap-2">
                    {% if tasks.has_previous %}
                        <button type="button"
                                hx-get="{% url 'task-list-partial' %}?page={{ tasks.previous_page_number }}&q={{ search_query }}"
                                hx-target="#task-selector-body"
                                class="app-btn app-btn-ghost app-btn-sm">Previous</button>
                    {% endif %}
                    {% if tasks.has_next %}
                        <button type="button"
                                hx-get="{% url 'task-list-partial' %}?page={{ tasks.next_page_number }}&q={{ search_query }}"
                                hx-target="#task-selector-body"
                                class="app-btn app-btn-ghost app-btn-sm">Next</button>
                    {% endif %}
                </div>
            </div>
        </td>
    </tr>
{% endif %}
