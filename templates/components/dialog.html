{# templates/components/dialog.html #}
<div x-data="{ open: false, title: '', message: '', confirmText: 'Confirm', confirmBtnClass: 'app-btn-primary', actionUrl: '', isForm: false, formId: '',  openDialog(detail) { this.title = detail.title || 'Confirm Action'; this.message = detail.message || 'Are you sure you want to proceed?'; this.confirmText = detail.confirmText || 'Confirm'; this.confirmBtnClass = detail.confirmBtnClass || 'app-btn-primary'; this.actionUrl = detail.actionUrl || ''; this.isForm = !!detail.formId; this.formId = detail.formId || ''; this.open = true; },  confirm() { if (this.isForm) { document.getElementById(this.formId).submit(); } else if (this.actionUrl) { window.location.href = this.actionUrl; } this.open = false; } }"
     @open-dialog.window="openDialog($event.detail)"
     x-show="open"
     class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     style="display: none"
     role="dialog"
     aria-modal="true"
     x-cloak>
    <div @click.away="open = false"
         class="bg-card w-full max-w-md rounded-2xl shadow-2xl border border-border overflow-hidden transform"
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0 scale-95 translate-y-4"
         x-transition:enter-end="opacity-100 scale-100 translate-y-0">
        <div class="p-6 sm:p-8">
            <div class="flex items-center gap-3 mb-4">
                <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center"
                     :class="confirmBtnClass.includes('destructive') ? 'bg-destructive/10 text-destructive' : 'bg-primary/10 text-primary'">
                    <i data-lucide="alert-circle"
                       class="w-6 h-6"
                       x-show="!confirmBtnClass.includes('destructive')"></i>
                    <i data-lucide="alert-triangle"
                       class="w-6 h-6"
                       x-show="confirmBtnClass.includes('destructive')"></i>
                </div>
                <h3 class="text-xl font-bold text-foreground" x-text="title">Confirm Action</h3>
            </div>
            <p class="text-muted-foreground leading-relaxed" x-text="message"></p>
        </div>
        <div class="flex items-center justify-end gap-3 p-4 sm:p-6 bg-muted/50 border-t border-border">
            <button @click="open = false" type="button" class="app-btn app-btn-ghost">Cancel</button>
            <button @click="confirm()"
                    type="button"
                    class="app-btn"
                    :class="confirmBtnClass"
                    x-text="confirmText">Confirm</button>
        </div>
    </div>
</div>
